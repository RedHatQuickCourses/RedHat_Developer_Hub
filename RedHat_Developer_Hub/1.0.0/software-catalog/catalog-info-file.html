<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>catalog-info file :: Introduction to Red Hat Developer Hub</title>
    <link rel="prev" href="entities.html">
    <link rel="next" href="initial-setup-and-component-registration.html">
    <meta name="generator" content="Antora 3.1.3">
    <link rel="stylesheet" href="../../../_/css/site.css">
    <script>var uiRootPath = '../../../_'</script>
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://www.redhat.com" target="_blank"><img src="../../../_/img/redhat-logo.png" height="40px" alt="Red Hat"></a>
      <a class="navbar-item" style="font-size: 24px; color: white" href="../../..">Introduction to Red Hat Developer Hub</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="https://github.com/RedHatQuickCourses/REPLACEREPONAME/issues" target="_blank">Report Issues</a>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="RedHat_Developer_Hub" data-version="1.0.0">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">Introduction to Red Hat Developer Hub</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../index.html">Home</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../LABENV/index.html">Lab Environment</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../internal-developer-platforms/internal-developer-platforms.html">Internal developer platforms</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../internal-developer-platforms/a-platform-for-developers.html">A platform for developers</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../internal-developer-platforms/history.html">History</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../internal-developer-platforms/red-hat-developer-hub.html">Red Hat Developer Hub</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="software-catalog.html">Software Catalog</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="overview.html">Overview</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="entities.html">Entities</a>
  </li>
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="catalog-info-file.html">catalog-info file</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="initial-setup-and-component-registration.html">Initial setup and component registration</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../templates/templates.html">Templates</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../templates/software-templates.html">Software Templates</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../templates/basics.html">Basics</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../templates/template-registration.html">Template Registration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../templates/template-structure.html">Template Structure</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendix/appendix.html">Appendix</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Introduction to Red Hat Developer Hub</span>
    <span class="version">1.0.0</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <a class="title" href="../index.html">Introduction to Red Hat Developer Hub</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index.html">1.0.0</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">Introduction to Red Hat Developer Hub</a></li>
    <li><a href="software-catalog.html">Software Catalog</a></li>
    <li><a href="catalog-info-file.html">catalog-info file</a></li>
  </ul>
</nav>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">catalog-info file</h1>
<div class="paragraph">
<p>Antora AsciiDoc format is used for the content.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-adoc hljs" data-lang="adoc">= The catalog-info.yaml File

The `catalog-info.yaml` file is the cornerstone for defining and registering entities within the Red Hat Developer Hub's Software Catalog. It acts as a manifest, providing a standardized way to describe software components, APIs, systems, and other resources across an organization. By placing this file in the root directory of a Git repository, you make your software discoverable and manageable within the Developer Hub ecosystem.

== What is catalog-info.yaml?

At its core, `catalog-info.yaml` is a YAML-formatted configuration file that contains metadata about a specific software entity. This metadata transforms raw code repositories and services into structured, discoverable entries in the Developer Hub's Software Catalog. It allows developers, operations teams, and stakeholders to understand what a piece of software is, who owns it, what it does, and how it relates to other parts of the organization's technology landscape.

=== Why is catalog-info.yaml Important?

*   *Standardization:* Provides a consistent schema for describing all types of software entities.
*   *Discoverability:* Enables the Developer Hub to automatically ingest and display information about components, making them easy to find and understand.
*   *Ownership:* Clearly defines who is responsible for a component, improving accountability and communication.
*   *Context and Relationships:* Establishes connections between different entities (e.g., a service belonging to a system, an API provided by a component), building a comprehensive dependency graph.
*   *Automation:* Powers various Developer Hub features, such as TechDocs documentation generation, CI/CD pipeline integration, and resource provisioning.

== Structure of catalog-info.yaml

Every `catalog-info.yaml` file adheres to a well-defined structure, typically comprising four main top-level fields: `apiVersion`, `kind`, `metadata`, and `spec`.

[source,yaml]
----
apiVersion: backstage.io/v1alpha1
kind: Component # or API, System, Resource, Group, User, Location
metadata:
  name: example-service # Unique identifier for this entity
  description: A short description of the service
  annotations:
    backstage.io/techdocs-ref: url:./ # Points to the TechDocs content
    github.com/project-slug: my-org/example-service # Links to the GitHub repository
  tags:
    - example
    - microservice
spec:
  type: service # Type of component (service, library, website)
  lifecycle: production # Stage of development (experimental, production, deprecated)
  owner: group:my-team # Reference to the owning group or user
  system: example-system # Reference to the system this component belongs to
  dependsOn: # Optional: List of dependencies
    - component:another-service
    - api:third-party-api
  # Other kind-specific fields go here
----

Let's break down each of these fields:

=== apiVersion

This field specifies the API version of the catalog definition schema. For Red Hat Developer Hub (which is based on Backstage), this is almost always `backstage.io/v1alpha1`.

[source,yaml]
----
apiVersion: backstage.io/v1alpha1
----

=== kind

The `kind` field defines the type of entity being described by the `catalog-info.yaml` file. The most common kinds include:

*   `Component`: Represents a deployable software unit, such as a microservice, library, or website.
*   `API`: Describes an Application Programming Interface (e.g., REST, GraphQL, gRPC).
*   `System`: A collection of related components and APIs that work together to deliver a larger business capability.
*   `Resource`: External infrastructure dependencies, like a database, message queue, or cloud storage bucket.
*   `Group`: Represents a team or organizational unit.
*   `User`: Represents an individual.
*   `Location`: Used to register other `catalog-info.yaml` files or other catalog definition sources.

[source,yaml]
----
kind: Component # Example: defining a software component
----

=== metadata

The `metadata` field contains essential descriptive information about the entity.

*   `name` (Required): A unique, URL-friendly identifier for the entity within the catalog. It must be lowercase, kebab-cased, and unique across all entities of the same kind.
*   `description` (Optional): A human-readable summary of the entity's purpose.
*   `annotations` (Optional): A map of key-value pairs used to link the entity to external systems or provide additional structured metadata. Common annotations include:
    *   `backstage.io/techdocs-ref`: Points to the location of the entity's TechDocs documentation.
    *   `github.com/project-slug`: Links to the GitHub repository (e.g., `my-org/my-repo`).
    *   `backstage.io/kubernetes-id`: Associates the entity with a Kubernetes resource.
*   `tags` (Optional): A list of short, descriptive strings used for categorization and filtering.

[source,yaml]
----
metadata:
  name: user-authentication-service
  description: Handles user login, registration, and session management.
  annotations:
    backstage.io/techdocs-ref: url:./
    github.com/project-slug: rha-demos/user-authentication-service
    backstage.io/kubernetes-id: user-auth-service
  tags:
    - security
    - authentication
    - identity
----

=== spec

The `spec` field contains the core definition and technical characteristics of the entity, which vary depending on the `kind`.

*   `type` (Required for `Component`): Categorizes the nature of the component (e.g., `service`, `library`, `website`, `frontend`, `backend`).
*   `lifecycle` (Required for `Component`): Indicates the development maturity stage (e.g., `experimental`, `production`, `deprecated`).
*   `owner` (Required): A reference to the group or user entity responsible for this component. This helps establish clear ownership and enables linking in the Developer Hub UI. Format: `group:my-team` or `user:johndoe`.
*   `system` (Optional): A reference to the `System` entity this component belongs to, if applicable. Format: `system:my-system`.
*   `dependsOn` (Optional): A list of other entities that this entity depends on. This helps visualize dependencies. Format: `component:another-service`, `api:third-party-api`, `resource:my-database`.
*   `providesApis` (Optional for `Component`): A list of `API` entities that this component provides.
*   `consumesApis` (Optional for `Component`): A list of `API` entities that this component consumes.
*   `definition` (Required for `API`): For `API` kind, this typically points to the API definition file (e.g., OpenAPI spec).

[source,yaml]
----
spec:
  type: service
  lifecycle: production
  owner: group:frontend-team # The owning team
  system: customer-portal # The system this service is part of
  dependsOn:
    - component:payment-gateway
    - resource:customer-db
    - api:identity-provider-api
  providesApis:
    - user-auth-api # An API defined elsewhere with kind: API, name: user-auth-api
----

[NOTE]
The specific fields within `spec` are context-dependent based on the `kind` of the entity. Always refer to the official Developer Hub/Backstage documentation for the full schema details for each `kind`.

== Hands-on Activity: Defining Your First Component

In this activity, you will create a `catalog-info.yaml` file to define a simple "Hello World" service. This will give you practical experience with the file's structure.

=== Objectives

*   Create a `catalog-info.yaml` file in a simulated repository.
*   Define a `Component` entity with basic metadata and specifications.

=== Prerequisites

*   A text editor (VS Code, Sublime Text, Vim, etc.).
*   Basic understanding of YAML syntax.
*   (Optional but recommended for later steps) A Git repository where you can commit this file.

=== Steps

.  **Choose Your Location**
   For this exercise, imagine you're working within a Git repository that hosts your `hello-world-service` code. Navigate to the root of that repository in your terminal or file explorer. If you don't have a specific repository, simply create a new directory for this exercise, e.g., `mkdir my-hello-world-service &amp;&amp; cd my-hello-world-service`.

.  **Create the `catalog-info.yaml` File**
   In the root of your chosen location, create a new file named `catalog-info.yaml`.

   [source,bash]
   ----
   touch catalog-info.yaml
   ----

.  **Add Component Definition**
   Open `catalog-info.yaml` with your text editor and add the following content. This defines a basic `Component` representing a simple "Hello World" microservice.

   [source,yaml]
   ----
   # catalog-info.yaml for a 'Hello World' service
   apiVersion: backstage.io/v1alpha1
   kind: Component
   metadata:
     name: hello-world-service
     description: A minimal service that responds with "Hello World!".
     annotations:
       backstage.io/techdocs-ref: url:./
       github.com/project-slug: your-github-org/hello-world-service # Replace with your GitHub org/repo
     tags:
       - getting-started
       - demo
       - microservice
   spec:
     type: service
     lifecycle: experimental # Start with experimental, you can change it later
     owner: group:your-team-name # Replace with your actual team name or user ID
     system: learning-platform # An example system, can be changed
     # No explicit dependencies for a simple hello world service
   ----

.  **Review the Content**
   Carefully examine each field you've entered:

    *   `apiVersion`: Standard `backstage.io/v1alpha1`.
    *   `kind`: Set to `Component` because it's a deployable service.
    *   `metadata.name`: `hello-world-service` is its unique identifier.
    *   `metadata.description`: A brief summary.
    *   `metadata.annotations.backstage.io/techdocs-ref`: Points to documentation in the current directory.
    *   `metadata.annotations.github.com/project-slug`: *Remember to replace `your-github-org/hello-world-service` with an actual or hypothetical GitHub repository slug.*
    *   `metadata.tags`: Used for categorization.
    *   `spec.type`: `service` indicates it's a running application.
    *   `spec.lifecycle`: `experimental` denotes it's still under development.
    *   `spec.owner`: `group:your-team-name` assigns ownership. *Replace `your-team-name` with your actual team name or user ID prefixed with `user:`.*
    *   `spec.system`: `learning-platform` puts it into a logical grouping.

.  **Save the File**
   Save the `catalog-info.yaml` file.

[TIP]
For a real-world scenario, you would now commit this file to your Git repository and push it to a remote. The Red Hat Developer Hub would then be configured (via a `Location` entity) to scan this repository and ingest your `hello-world-service` into its catalog. We will cover the actual registration process in a later topic.

== Best Practices and Troubleshooting

*   **YAML Syntax Validation**: Always ensure your `catalog-info.yaml` is valid YAML. Incorrect indentation or syntax errors will prevent the Developer Hub from ingesting the entity. Many IDEs offer YAML linting.
*   **Placement**: The `catalog-info.yaml` file should typically reside in the root directory of the repository containing the source code for the entity it describes.
*   **Unique Names**: The `metadata.name` field must be unique *per kind* within your Developer Hub instance. Avoid generic names that could conflict.
*   **Required Fields**: Ensure all required fields for a given `kind` are present. Missing fields will result in ingestion errors.
*   **Reference Existing Entities**: When using `owner`, `system`, or `dependsOn`, make sure the referenced entities (e.g., `group:my-team`, `system:my-platform`) actually exist in your Developer Hub catalog, or are defined in other `catalog-info.yaml` files that will also be ingested.
*   **Annotations for Integration**: Leverage annotations extensively to link your catalog entities to other tools and services (e.g., CI/CD systems, monitoring dashboards, documentation).

By understanding and correctly utilizing the `catalog-info.yaml` file, you empower Red Hat Developer Hub to build a comprehensive, accurate, and valuable catalog of your organization's software landscape.</code></pre>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="entities.html">Entities</a></span>
  <span class="next"><a href="initial-setup-and-component-registration.html">Initial setup and component registration</a></span>
</nav>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <img src="../../../_/img/rhl-logo-red.png" height="40px" alt="Red Hat"  href="https://redhat.com" >
</footer><script id="site-script" src="../../../_/js/site.js" data-ui-root-path="../../../_"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
